{% extends "app_blog/index.html" %}
{% load static %}
{% block app_blog_content %} 

{% if user.is_authenticated %}
        <div class="container" style= "width: 30%">
                    {% if url %}
                    <ul class="nav-item" style="line-height: 0px"><a class="nav-link active" href="/app_blog/profile" style="text-align:center; line-height: 0px"><img class="rounded-circle" src="{{url}}" style="margin-left: 0px; width: 100px;height: 100px; line-height: 20px"></img></a></ul>
                    {%else%}
                    <a></a>
                    {%endif%}
                    <ul class="nav-item" style="line-height: 30px"><a style="text-align:center; font-size: 30px; color: rgb(196, 194, 194)" class="nav-link" href="/app_blog/profile">{{user.username}}</a></ul>
        </div>                 
{% endif %}

<h1 style="color: var(--bs-gray-100);">Publicaciones recientes {{ptype}}</h1>

<div class="container">
    {%if posts%}
    {% for post in posts %}
    <ul class="nav-item"><a class="nav-link active" href="{% url 'app_blog:post-detail' post.id %}">
        <div class="container" style="background: #505458;">
            <p style="text-align: left;margin: 3px;font-size: 30px;font-weight: bold;color: rgb(216, 216, 216);">{{post.title}}</p>
            <hr style="color: rgba(216, 216, 216, 0.189);"/>
            <p style="margin: 23px;color: rgb(216, 216, 216);font-size: 19px;">{{post.content}}</p>
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link active" href="/media/{{post.image_post}}"><img src="/media/{{post.image_post}}" style="width: 25%;height: 25%;"></a></li>
            </ul>
            <hr style="color: rgba(216, 216, 216, 0.185);"/>
            <img class="rounded-circle" src="{{post.profile_picture}}" style= "width: 35px;height: 35px; line-height: 20px"></img>
            <p style="font-size: 12px;font-weight: bold;color: rgb(216, 216, 216);">{{post.author}} - {{post.due_date}} {{post.profile_picture}} </p>
        </div>
    </a></ul>

    <hr style="color: rgba(216, 216, 216, 0.501);"/>

    {% endfor %}
    {%else%}    
    <div class="d-flex justify-content-center align-items-center content">
        <p style="text-align: center;margin: 3px;font-size: 20px;font-weight: bold;color: rgb(187,187,187);">No hay publicaciones disponibles</p>  
    {%endif%} 
</div>
{% endblock %}